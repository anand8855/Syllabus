<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700">
  <rect width="1000" height="700" fill="#f8f9fa"/>
  
  <text x="500" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2c3e50">JVM Architecture - The Engine Room</text>
  
  <!-- Class Loader Subsystem -->
  <rect x="50" y="60" width="280" height="180" fill="#e3f2fd" stroke="#2196f3" stroke-width="3" rx="10"/>
  <text x="190" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">Class Loader Subsystem</text>
  
  <text x="60" y="110" font-family="Arial, sans-serif" font-size="12" fill="#34495e">1. Loading</text>
  <rect x="70" y="115" width="240" height="20" fill="#bbdefb" rx="3"/>
  <text x="190" y="129" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2c3e50">Bootstrap - Extension - Application</text>
  
  <text x="60" y="150" font-family="Arial, sans-serif" font-size="12" fill="#34495e">2. Linking</text>
  <rect x="70" y="155" width="240" height="20" fill="#90caf9" rx="3"/>
  <text x="190" y="169" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2c3e50">Verify - Prepare - Resolve</text>
  
  <text x="60" y="190" font-family="Arial, sans-serif" font-size="12" fill="#34495e">3. Initialization</text>
  <rect x="70" y="195" width="240" height="20" fill="#64b5f6" rx="3"/>
  <text x="190" y="209" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2c3e50">Execute static blocks</text>
  
  <text x="190" y="232" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">Like airport security</text>
  
  <!-- Runtime Data Areas Container -->
  <rect x="360" y="60" width="590" height="530" fill="#fff3cd" stroke="#ffc107" stroke-width="3" rx="10"/>
  <text x="655" y="85" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c3e50">Runtime Data Areas (Memory)</text>
  
  <!-- Method Area -->
  <rect x="380" y="100" width="260" height="100" fill="#fff9e6" stroke="#f39c12" stroke-width="2" rx="8"/>
  <text x="510" y="125" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">Method Area (MetaSpace)</text>
  <text x="390" y="145" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Class metadata</text>
  <text x="390" y="162" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Static variables</text>
  <text x="390" y="179" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Method bytecode</text>
  <text x="510" y="194" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f8c8d">Library - shared by all</text>
  
  <!-- Heap Area -->
  <rect x="660" y="100" width="260" height="100" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" rx="8"/>
  <text x="790" y="125" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">Heap Area</text>
  <text x="670" y="145" font-family="Arial, sans-serif" font-size="11" fill="#34495e">All objects</text>
  <text x="670" y="162" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Instance variables</text>
  <text x="670" y="179" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Shared by all threads</text>
  <text x="790" y="194" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f8c8d">Common playground</text>
  
  <!-- Stack Area -->
  <rect x="380" y="220" width="260" height="100" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="8"/>
  <text x="510" y="245" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">Stack Area (Thread-specific)</text>
  <text x="390" y="265" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Method calls</text>
  <text x="390" y="282" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Local variables</text>
  <text x="390" y="299" font-family="Arial, sans-serif" font-size="11" fill="#34495e">Each thread owns its stack</text>
  <text x="510" y="314" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f8c8d">Stack of plates (LIFO)</text>
  
  <!-- PC Register -->
  <rect x="660" y="220" width="120" height="100" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="8"/>
  <text x="720" y="245" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">PC Register</text>
  <text x="670" y="265" font-family="Arial, sans-serif" font-size="10" fill="#34495e">Current</text>
  <text x="670" y="280" font-family="Arial, sans-serif" font-size="10" fill="#34495e">instruction</text>
  <text x="670" y="295" font-family="Arial, sans-serif" font-size="10" fill="#34495e">address</text>
  <text x="720" y="314" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f8c8d">Bookmark</text>
  
  <!-- Native Method Stack -->
  <rect x="800" y="220" width="120" height="100" fill="#e0f2f1" stroke="#009688" stroke-width="2" rx="8"/>
  <text x="860" y="245" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">Native Stack</text>
  <text x="810" y="265" font-family="Arial, sans-serif" font-size="10" fill="#34495e">Native</text>
  <text x="810" y="280" font-family="Arial, sans-serif" font-size="10" fill="#34495e">methods</text>
  <text x="810" y="295" font-family="Arial, sans-serif" font-size="10" fill="#34495e">(C/C++)</text>
  <text x="860" y="314" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f8c8d">Non-Java code</text>
  
  <!-- Memory Visualization Section -->
  <text x="655" y="350" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">Memory Visualization</text>
  
  <rect x="380" y="360" width="540" height="210" fill="#fff" stroke="#bdc3c7" stroke-width="1" rx="5"/>
  
  <!-- Heap visualization -->
  <rect x="400" y="380" width="240" height="170" fill="#c8e6c9" stroke="#4caf50" stroke-width="2" rx="5"/>
  <text x="520" y="400" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">HEAP</text>
  
  <circle cx="450" cy="430" r="20" fill="#81c784"/>
  <text x="450" y="436" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">Obj1</text>
  
  <circle cx="520" cy="430" r="20" fill="#66bb6a"/>
  <text x="520" y="436" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">Obj2</text>
  
  <circle cx="590" cy="430" r="20" fill="#4caf50"/>
  <text x="590" y="436" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">Obj3</text>
  
  <text x="520" y="470" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#34495e">Objects live here</text>
  <text x="520" y="500" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#e74c3c">GC cleans unused objects</text>
  
  <rect x="410" y="510" width="60" height="25" fill="#ffcdd2" stroke="#f44336" stroke-width="1" rx="3"/>
  <text x="440" y="526" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">Unused</text>
  
  <line x1="470" y1="522" x2="500" y2="522" stroke="#f44336" stroke-width="2"/>
  <polygon points="500,518 508,522 500,526" fill="#f44336"/>
  
  <text x="540" y="526" font-family="Arial, sans-serif" font-size="9" fill="#c62828">Collected</text>
  
  <!-- Stack visualization -->
  <rect x="660" y="380" width="240" height="170" fill="#f8bbd0" stroke="#e91e63" stroke-width="2" rx="5"/>
  <text x="780" y="400" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">STACK</text>
  
  <rect x="680" y="410" width="180" height="25" fill="#f06292"/>
  <text x="770" y="427" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">method3()</text>
  
  <rect x="680" y="440" width="180" height="25" fill="#ec407a"/>
  <text x="770" y="457" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">method2()</text>
  
  <rect x="680" y="470" width="180" height="25" fill="#e91e63"/>
  <text x="770" y="487" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">method1()</text>
  
  <rect x="680" y="500" width="180" height="25" fill="#c2185b"/>
  <text x="770" y="517" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fff">main()</text>
  
  <text x="780" y="542" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f8c8d">LIFO - Last In First Out</text>
  
  <!-- Execution Engine -->
  <rect x="50" y="260" width="280" height="230" fill="#d4edda" stroke="#28a745" stroke-width="3" rx="10"/>
  <text x="190" y="285" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">Execution Engine</text>
  
  <rect x="70" y="300" width="240" height="50" fill="#c3e6cb" stroke="#28a745" stroke-width="1" rx="5"/>
  <text x="190" y="320" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">Interpreter</text>
  <text x="190" y="336" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#34495e">Reads bytecode line by line</text>
  
  <rect x="70" y="360" width="240" height="50" fill="#a3d9a5" stroke="#28a745" stroke-width="1" rx="5"/>
  <text x="190" y="380" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">JIT Compiler</text>
  <text x="190" y="396" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#34495e">Converts to native code (fast!)</text>
  
  <rect x="70" y="420" width="240" height="50" fill="#7bc77e" stroke="#28a745" stroke-width="1" rx="5"/>
  <text x="190" y="440" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">Garbage Collector</text>
  <text x="190" y="456" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#34495e">Cleans unused objects (auto)</text>
  
  <!-- Native Method Interface -->
  <rect x="50" y="510" width="280" height="80" fill="#fff3cd" stroke="#ffc107" stroke-width="2" rx="8"/>
  <text x="190" y="535" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">Native Method Interface (JNI)</text>
  <text x="190" y="560" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#34495e">Bridge to native libraries (C/C++)</text>
  <text x="190" y="578" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">Connects Java to system libraries</text>
  
  <!-- Native Method Libraries -->
  <rect x="360" y="610" width="590" height="60" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2" rx="8"/>
  <text x="655" y="635" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">Native Method Libraries</text>
  <text x="655" y="655" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#34495e">C/C++ libraries for Execution Engine and JNI</text>
  
  <!-- Flow Arrow from Class Loader to Execution Engine -->
  <line x1="190" y1="240" x2="190" y2="255" stroke="#2196f3" stroke-width="3"/>
  <polygon points="190,255 185,247 195,247" fill="#2196f3"/>
</svg>
