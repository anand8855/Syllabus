{
  "name": "Bean Scopes (Singleton, Prototype, Request, Session, Application)",
  "overview": "ü´ò Spring Bean Scopes answer three deceptively simple questions: How many objects should Spring create? Who can see them? How long should they live? Get it right ‚Üí clean, scalable apps. Get it wrong ‚Üí shared‚Äëstate bugs and ‚Äòwhy is my data shared?!‚Äô moments üòÖ",
  "sections": [
    {
      "title": "üß† What Is a Bean Scope?",
      "content": "A bean scope defines the lifecycle, visibility, and instance count of a bean.\n\nAnalogy üòÑ It‚Äôs deciding whether something is shared by everyone, per person, per visit, or per building.",
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/bean-scopes-overview.svg",
          "alt": "Bean Scopes Overview",
          "caption": "How scopes define instance count, visibility, and lifetime"
        }
      ]
    },
    {
      "title": "1Ô∏è‚É£ Singleton Scope (Default)",
      "content": "One bean instance per Spring container. Shared across the entire application. Default scope even if you don‚Äôt mention it.\n\nAnalogy üòÑ Shared office printer üñ®Ô∏è ‚Äî everyone uses the same one.",
      "subsections": [
        {
          "title": "Behavior & Lifecycle",
          "content": "Created at startup (eager by default), destroyed when the container shuts down.",
          "table": {
            "headers": [
              "Aspect",
              "Singleton"
            ],
            "rows": [
              [
                "Instances",
                "1 per container"
              ],
              [
                "Lifetime",
                "App lifetime"
              ],
              [
                "Shared",
                "Yes"
              ],
              [
                "Default",
                "Yes"
              ]
            ]
          }
        },
        {
          "title": "Best For",
          "content": "Stateless services, business logic, repositories, utilities.\n\nInterview line üí° ‚ÄúSingleton scope creates exactly one bean per IoC container.‚Äù"
        }
      ],
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/singleton-scope.svg",
          "alt": "Singleton Scope",
          "caption": "One shared instance for the whole container"
        }
      ]
    },
    {
      "title": "2Ô∏è‚É£ Prototype Scope",
      "content": "New object every time getBean() is called. Spring creates it, then forgets it üòÑ.\n\nAnalogy üòÑ Disposable coffee cup ‚Äî new cup for every order ‚òï.",
      "subsections": [
        {
          "title": "Behavior & Lifecycle",
          "content": "Created on demand. No destruction callback by Spring‚Äîcleanup is your job.",
          "table": {
            "headers": [
              "Aspect",
              "Prototype"
            ],
            "rows": [
              [
                "Instances",
                "Many"
              ],
              [
                "Lifetime",
                "Until GC"
              ],
              [
                "Shared",
                "No"
              ],
              [
                "Lifecycle managed by Spring",
                "Partial (create only)"
              ]
            ]
          }
        },
        {
          "title": "Best For",
          "content": "Stateful objects, temporary data holders, non‚Äëshared components.\n\nInterview gold üíé ‚ÄúSpring does not manage the full lifecycle of prototype beans.‚Äù"
        }
      ],
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/prototype-scope.svg",
          "alt": "Prototype Scope",
          "caption": "New instance on each request to the container"
        }
      ]
    },
    {
      "title": "üåê Web‚ÄëAware Scopes",
      "content": "Request, Session, and Application scopes are available in web applications (Spring MVC / Spring Boot Web).",
      "subsections": [
        {
          "title": "3Ô∏è‚É£ Request Scope",
          "content": "One bean per HTTP request. Destroyed after the request completes.\n\nAnalogy üòÑ One food order üçî ‚Äî order ‚Üí eat ‚Üí done.",
          "table": {
            "headers": [
              "Aspect",
              "Request"
            ],
            "rows": [
              [
                "Instances",
                "1 per request"
              ],
              [
                "Lifetime",
                "Request"
              ],
              [
                "Shared",
                "No"
              ],
              [
                "Use",
                "Request‚Äëspecific data"
              ]
            ]
          }
        },
        {
          "title": "4Ô∏è‚É£ Session Scope",
          "content": "One bean per user session. Shared across multiple requests of the same user.\n\nAnalogy üòÑ Movie ticket üéüÔ∏è ‚Äî valid until the session ends.",
          "table": {
            "headers": [
              "Aspect",
              "Session"
            ],
            "rows": [
              [
                "Instances",
                "1 per session"
              ],
              [
                "Lifetime",
                "Session"
              ],
              [
                "Shared",
                "Per user"
              ],
              [
                "Use",
                "User‚Äëspecific state"
              ]
            ]
          }
        },
        {
          "title": "5Ô∏è‚É£ Application Scope",
          "content": "One bean per ServletContext. Shared across all users and sessions.\n\nAnalogy üòÑ Building facilities üè¢ ‚Äî same lift and water supply for everyone.",
          "table": {
            "headers": [
              "Aspect",
              "Application"
            ],
            "rows": [
              [
                "Instances",
                "1 per app"
              ],
              [
                "Lifetime",
                "App lifetime"
              ],
              [
                "Shared",
                "Yes"
              ],
              [
                "Use",
                "Global config/cache"
              ]
            ]
          }
        }
      ],
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/request-scope.svg",
          "alt": "Request Scope",
          "caption": "One instance per HTTP request"
        },
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/session-scope.svg",
          "alt": "Session Scope",
          "caption": "One instance per user session"
        },
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/application-scope.svg",
          "alt": "Application Scope",
          "caption": "One shared instance per application"
        }
      ]
    },
    {
      "title": "üîÑ Stateful vs Stateless (Very Important!)",
      "content": "Rule of thumb üòÑ Singleton + state = trouble.\n\nStateless beans are safe as singletons. Stateful beans should be Prototype / Request / Session.",
      "subsections": [
        {
          "title": "Safety Matrix",
          "content": "Match scope to bean behavior.",
          "table": {
            "headers": [
              "Type",
              "Meaning",
              "Safe Scope"
            ],
            "rows": [
              [
                "Stateless",
                "No internal data",
                "Singleton ‚úÖ"
              ],
              [
                "Stateful",
                "Holds data",
                "Prototype / Request / Session"
              ]
            ]
          }
        }
      ],
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/thread-safety-scopes.svg",
          "alt": "Thread Safety by Scope",
          "caption": "Thread‚Äësafety implications of each scope"
        }
      ]
    },
    {
      "title": "üìä Scope Comparison Table",
      "content": "Quick revision summary for interviews.",
      "subsections": [
        {
          "title": "Scope Comparison",
          "content": "Instances, lifetime, sharing, and typical use cases.",
          "table": {
            "headers": [
              "Scope",
              "Instances",
              "Lifetime",
              "Shared?",
              "Typical Use"
            ],
            "rows": [
              [
                "Singleton",
                "1 per container",
                "App lifetime",
                "Yes",
                "Services"
              ],
              [
                "Prototype",
                "Many",
                "Until GC",
                "No",
                "Temp objects"
              ],
              [
                "Request",
                "1 per request",
                "Request",
                "No",
                "Request data"
              ],
              [
                "Session",
                "1 per session",
                "Session",
                "Per user",
                "Cart"
              ],
              [
                "Application",
                "1 per app",
                "App lifetime",
                "Yes",
                "Global cache"
              ]
            ]
          }
        }
      ],
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/scope-comparison-table.svg",
          "alt": "Scope Comparison Table",
          "caption": "All key scopes compared at a glance"
        }
      ]
    },
    {
      "title": "üß† When to Use Which (Decision Guide)",
      "content": "Business logic ‚Üí Singleton. User‚Äëspecific data ‚Üí Session. Per‚Äërequest data ‚Üí Request. Temporary/stateful ‚Üí Prototype. Global shared ‚Üí Application.",
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/decision-guide-scopes.svg",
          "alt": "Scope Decision Guide",
          "caption": "Quick visual for choosing the right scope"
        }
      ]
    },
    {
      "title": "üß† Interview‚ÄëReady One‚ÄëLiners",
      "content": "‚Ä¢ Singleton is the default scope.\n‚Ä¢ Prototype creates a new instance every time.\n‚Ä¢ Request and Session are web‚Äëspecific scopes.\n‚Ä¢ Spring fully manages singleton lifecycle.\n‚Ä¢ Prototype beans are not destroyed by Spring.",
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/bean-scopes-summary.svg",
          "alt": "Bean Scopes Summary",
          "caption": "Quick interview revision snapshot"
        }
      ]
    },
    {
      "title": "üèÅ Final Thoughts",
      "content": "Bean scopes are resource‚Äësharing rules: share wisely, isolate when needed, and never mix shared scope with mutable state üòÑ. Once you understand scopes with printers, coffee cups, orders, tickets, and buildings, you‚Äôll never confuse them again.",
      "images": [
        {
          "url": "assets/images/subtopics/spring/core_spring_framework_deep_dive/bean_scopes_singleton_prototype_request_session_application/bean-scopes-final.svg",
          "alt": "Bean Scopes Final",
          "caption": "Scopes made intuitive and interview‚Äëready"
        }
      ]
    }
  ],
  "keyPoints": [
    "Singleton is default and shared across the container",
    "Prototype creates a new instance each request to the container",
    "Request and Session are web‚Äëspecific scopes",
    "Application scope is shared across all users and sessions",
    "Spring does not manage destruction of prototype beans"
  ],
  "references": [
    "Spring Framework Reference - Bean Scopes",
    "Spring Framework Documentation - Core Container"
  ],
  "interviewQA": [
    {
      "question": "What is the default bean scope in Spring?",
      "answer": "Singleton. One bean instance per container, shared across the application."
    },
    {
      "question": "How is prototype different from singleton?",
      "answer": "Prototype creates a new bean instance each time; Spring does not manage its full lifecycle. Singleton is one shared instance managed by Spring."
    },
    {
      "question": "Which scopes are web‚Äëspecific?",
      "answer": "Request and Session (and Application in servlet environments) are web‚Äëaware scopes."
    }
  ]
}
