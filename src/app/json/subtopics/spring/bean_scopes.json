{
  "name": "Bean Scopes (Singleton, Prototype, Request, Session, Application)",
  "overview": "ğŸ«˜ Spring Bean Scopes answer three deceptively simple questions: How many objects should Spring create? Who can see them? How long should they live? Get it right â†’ clean, scalable apps. Get it wrong â†’ sharedâ€‘state bugs and â€˜why is my data shared?!â€™ moments ğŸ˜…",
  "sections": [
    {
      "title": "ğŸ§  What Is a Bean Scope?",
      "content": "A bean scope defines the lifecycle, visibility, and instance count of a bean.\n\nAnalogy ğŸ˜„ Itâ€™s deciding whether something is shared by everyone, per person, per visit, or per building.",
      "images": [
        {
          "url": "assets/images/spring/bean-scopes-overview.svg",
          "alt": "Bean Scopes Overview",
          "caption": "How scopes define instance count, visibility, and lifetime"
        }
      ]
    },
    {
      "title": "1ï¸âƒ£ Singleton Scope (Default)",
      "content": "One bean instance per Spring container. Shared across the entire application. Default scope even if you donâ€™t mention it.\n\nAnalogy ğŸ˜„ Shared office printer ğŸ–¨ï¸ â€” everyone uses the same one.",
      "subsections": [
        {
          "title": "Behavior & Lifecycle",
          "content": "Created at startup (eager by default), destroyed when the container shuts down.",
          "table": {
            "headers": ["Aspect", "Singleton"],
            "rows": [
              ["Instances", "1 per container"],
              ["Lifetime", "App lifetime"],
              ["Shared", "Yes"],
              ["Default", "Yes"]
            ]
          }
        },
        {
          "title": "Best For",
          "content": "Stateless services, business logic, repositories, utilities.\n\nInterview line ğŸ’¡ â€œSingleton scope creates exactly one bean per IoC container.â€"
        }
      ],
      "images": [
        {
          "url": "assets/images/spring/singleton-scope.svg",
          "alt": "Singleton Scope",
          "caption": "One shared instance for the whole container"
        }
      ]
    },
    {
      "title": "2ï¸âƒ£ Prototype Scope",
      "content": "New object every time getBean() is called. Spring creates it, then forgets it ğŸ˜„.\n\nAnalogy ğŸ˜„ Disposable coffee cup â€” new cup for every order â˜•.",
      "subsections": [
        {
          "title": "Behavior & Lifecycle",
          "content": "Created on demand. No destruction callback by Springâ€”cleanup is your job.",
          "table": {
            "headers": ["Aspect", "Prototype"],
            "rows": [
              ["Instances", "Many"],
              ["Lifetime", "Until GC"],
              ["Shared", "No"],
              ["Lifecycle managed by Spring", "Partial (create only)"]
            ]
          }
        },
        {
          "title": "Best For",
          "content": "Stateful objects, temporary data holders, nonâ€‘shared components.\n\nInterview gold ğŸ’ â€œSpring does not manage the full lifecycle of prototype beans.â€"
        }
      ],
      "images": [
        {
          "url": "assets/images/spring/prototype-scope.svg",
          "alt": "Prototype Scope",
          "caption": "New instance on each request to the container"
        }
      ]
    },
    {
      "title": "ğŸŒ Webâ€‘Aware Scopes",
      "content": "Request, Session, and Application scopes are available in web applications (Spring MVC / Spring Boot Web).",
      "subsections": [
        {
          "title": "3ï¸âƒ£ Request Scope",
          "content": "One bean per HTTP request. Destroyed after the request completes.\n\nAnalogy ğŸ˜„ One food order ğŸ” â€” order â†’ eat â†’ done.",
          "table": {
            "headers": ["Aspect", "Request"],
            "rows": [
              ["Instances", "1 per request"],
              ["Lifetime", "Request"],
              ["Shared", "No"],
              ["Use", "Requestâ€‘specific data"]
            ]
          }
        },
        {
          "title": "4ï¸âƒ£ Session Scope",
          "content": "One bean per user session. Shared across multiple requests of the same user.\n\nAnalogy ğŸ˜„ Movie ticket ğŸŸï¸ â€” valid until the session ends.",
          "table": {
            "headers": ["Aspect", "Session"],
            "rows": [
              ["Instances", "1 per session"],
              ["Lifetime", "Session"],
              ["Shared", "Per user"],
              ["Use", "Userâ€‘specific state"]
            ]
          }
        },
        {
          "title": "5ï¸âƒ£ Application Scope",
          "content": "One bean per ServletContext. Shared across all users and sessions.\n\nAnalogy ğŸ˜„ Building facilities ğŸ¢ â€” same lift and water supply for everyone.",
          "table": {
            "headers": ["Aspect", "Application"],
            "rows": [
              ["Instances", "1 per app"],
              ["Lifetime", "App lifetime"],
              ["Shared", "Yes"],
              ["Use", "Global config/cache"]
            ]
          }
        }
      ],
      "images": [
        {
          "url": "assets/images/spring/request-scope.svg",
          "alt": "Request Scope",
          "caption": "One instance per HTTP request"
        },
        {
          "url": "assets/images/spring/session-scope.svg",
          "alt": "Session Scope",
          "caption": "One instance per user session"
        },
        {
          "url": "assets/images/spring/application-scope.svg",
          "alt": "Application Scope",
          "caption": "One shared instance per application"
        }
      ]
    },
    {
      "title": "ğŸ”„ Stateful vs Stateless (Very Important!)",
      "content": "Rule of thumb ğŸ˜„ Singleton + state = trouble.\n\nStateless beans are safe as singletons. Stateful beans should be Prototype / Request / Session.",
      "subsections": [
        {
          "title": "Safety Matrix",
          "content": "Match scope to bean behavior.",
          "table": {
            "headers": ["Type", "Meaning", "Safe Scope"],
            "rows": [
              ["Stateless", "No internal data", "Singleton âœ…"],
              ["Stateful", "Holds data", "Prototype / Request / Session"]
            ]
          }
        }
      ],
      "images": [
        {
          "url": "assets/images/spring/thread-safety-scopes.svg",
          "alt": "Thread Safety by Scope",
          "caption": "Threadâ€‘safety implications of each scope"
        }
      ]
    },
    {
      "title": "ğŸ“Š Scope Comparison Table",
      "content": "Quick revision summary for interviews.",
      "subsections": [
        {
          "title": "Scope Comparison",
          "content": "Instances, lifetime, sharing, and typical use cases.",
          "table": {
            "headers": ["Scope", "Instances", "Lifetime", "Shared?", "Typical Use"],
            "rows": [
              ["Singleton", "1 per container", "App lifetime", "Yes", "Services"],
              ["Prototype", "Many", "Until GC", "No", "Temp objects"],
              ["Request", "1 per request", "Request", "No", "Request data"],
              ["Session", "1 per session", "Session", "Per user", "Cart"],
              ["Application", "1 per app", "App lifetime", "Yes", "Global cache"]
            ]
          }
        }
      ],
      "images": [
        {
          "url": "assets/images/spring/scope-comparison-table.svg",
          "alt": "Scope Comparison Table",
          "caption": "All key scopes compared at a glance"
        }
      ]
    },
    {
      "title": "ğŸ§  When to Use Which (Decision Guide)",
      "content": "Business logic â†’ Singleton. Userâ€‘specific data â†’ Session. Perâ€‘request data â†’ Request. Temporary/stateful â†’ Prototype. Global shared â†’ Application.",
      "images": [
        {
          "url": "assets/images/spring/decision-guide-scopes.svg",
          "alt": "Scope Decision Guide",
          "caption": "Quick visual for choosing the right scope"
        }
      ]
    },
    {
      "title": "ğŸ§  Interviewâ€‘Ready Oneâ€‘Liners",
      "content": "â€¢ Singleton is the default scope.\nâ€¢ Prototype creates a new instance every time.\nâ€¢ Request and Session are webâ€‘specific scopes.\nâ€¢ Spring fully manages singleton lifecycle.\nâ€¢ Prototype beans are not destroyed by Spring.",
      "images": [
        {
          "url": "assets/images/spring/bean-scopes-summary.svg",
          "alt": "Bean Scopes Summary",
          "caption": "Quick interview revision snapshot"
        }
      ]
    },
    {
      "title": "ğŸ Final Thoughts",
      "content": "Bean scopes are resourceâ€‘sharing rules: share wisely, isolate when needed, and never mix shared scope with mutable state ğŸ˜„. Once you understand scopes with printers, coffee cups, orders, tickets, and buildings, youâ€™ll never confuse them again.",
      "images": [
        {
          "url": "assets/images/spring/bean-scopes-final.svg",
          "alt": "Bean Scopes Final",
          "caption": "Scopes made intuitive and interviewâ€‘ready"
        }
      ]
    }
  ],
  "keyPoints": [
    "Singleton is default and shared across the container",
    "Prototype creates a new instance each request to the container",
    "Request and Session are webâ€‘specific scopes",
    "Application scope is shared across all users and sessions",
    "Spring does not manage destruction of prototype beans"
  ],
  "references": [
    "Spring Framework Reference - Bean Scopes",
    "Spring Framework Documentation - Core Container"
  ],
  "interviewQA": [
    {
      "question": "What is the default bean scope in Spring?",
      "answer": "Singleton. One bean instance per container, shared across the application."
    },
    {
      "question": "How is prototype different from singleton?",
      "answer": "Prototype creates a new bean instance each time; Spring does not manage its full lifecycle. Singleton is one shared instance managed by Spring."
    },
    {
      "question": "Which scopes are webâ€‘specific?",
      "answer": "Request and Session (and Application in servlet environments) are webâ€‘aware scopes." 
    }
  ]
}
